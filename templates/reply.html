<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>건의사항 답변</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-mode');
            }
        })();
    </script>
</head>
<body>
    <div class="container">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h1>건의사항 답변</h1>
            <div class="theme-switch-wrapper">
                <span>다크 모드</span>
                <label class="theme-switch" for="theme-toggle">
                    <input type="checkbox" id="theme-toggle" />
                    <div class="slider round"></div>
                </label>
            </div>
        </div>
        
        <div class="suggestion-details">
            <p><strong>내부 ID:</strong> {{ suggestion[0] }} | <strong>학년:</strong> {{ suggestion[1] }} | <strong>제출 시간:</strong> {{ suggestion[3] }}</p>
            <p><strong>내용:</strong></p>
            <div class="content-text" style="background-color: var(--bg-color); padding: 15px; border-radius: var(--border-radius);">
                {{ suggestion[2] }}
            </div>
        </div>

        <hr>

        <form method="POST">
            <label for="answer">답변 작성:</label>
            <textarea id="answer" name="answer" rows="8" placeholder="답변을 입력하세요...">{{ suggestion[4] or '' }}</textarea>
            <button type="submit">답변 저장</button>
        </form>

        <div class="admin-buttons" style="margin-top: 15px;">
             <a href="{{ url_for('admin_panel') }}" class="btn" style="background-color: var(--secondary-text-color);">목록으로 돌아가기</a>
        </div>
    </div>
    <script src="{{ url_for('static', filename='theme.js') }}"></script>
</body>
</html>